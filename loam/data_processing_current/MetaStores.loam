import ProjectConfig._
import PipelineConfig._
import StoreHelpers._
import CohortStores._

final case class MetaData(
  cohorts: Seq[Cohort])

final case class Meta(
  metaData: MetaData)

val metaStores = projectConfig.Metas.map(m => m.id).map { meta =>

  val cohortList = {

    for {
      cohort <- projectConfig.Metas(meta).cohorts
    } yield {

      cohortStores(cohort)

    }

  }

  val metaData = MetaData(
    cohorts = cohortList)

  meta -> Meta(
    metaData = metaData)

}.toMap
